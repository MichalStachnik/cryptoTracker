<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">
    <title>cryptoTracker</title>
  </head>
  <body>
    <div id="app">
      <h2>{{ currentCoin }}</h2>
      <svg width="40%" viewBox="0 0 440 440">
        <!-- Horiztonal Bars -->
        <g v-for="bar in barArray">
          <text
            x="0"
            v-bind:y="405 - bar.yPos"
          >
            {{ bar.text }}
          </text>
          <!-- NEEDS TO BE FIXED -->
          <rect
            class="bar"
            x="36"
            v-bind:y="400 - bar.yPos"
            height="1"
            width="390"
          >
          </rect>
        </g>
        <!-- Vertical Bars -->
        <g v-for="(price, index) in pricesNorm">
          <rect
            class="textBoxBG"
            v-bind:id="'textBoxBG' + index"
            v-bind:x="price.counter"
            v-bind:y="375 - price.normHigh"
            height="21"
            width="30"
          >
          </rect>
          <text
            class="text"
            v-bind:id="'textBox' + index"
            v-bind:x="price.counter + 3"
            v-bind:y="390 - price.normHigh"
          >
            {{ price.priceHigh }}
          </text>
          <rect 
            class="vertBar"
            v-bind:x="price.counter" 
            v-bind:y="400 - price.normHigh" 
            width="30" 
            v-bind:height="price.normHigh"
            v-on:mouseover="hoverFunc(index)"
            v-on:mouseout="hoverOutFunc(index)"
            v-bind:fill="price.fillColor"
          >
          </rect>
          <text
            v-bind:x="price.counter"
            y="420"
          >
            {{ price.date }}
          </text>
        </g>
      </svg>
      <div>
        <button class="title graphButton title-active" v-on:click="changeMode('daily')">1d</button>
        <button class="title graphButton" v-on:click="changeMode('hourly')">1hr</button>
      </div>
      <div class="container">
        <svg id="tableBG">
          <rect
            id="tableBGBar"
            x="0"
            v-bind:y="hoverBarY"
            width="100%"
            height="10%"
          >
          </rect>
        </svg>
        <div>
          <div class="box"></div>
          <button class="box title tableButton" id="marketCap" v-on:click="titleClick('marketCap')">Market Cap</button>
          <button class="box title tableButton" id="price" v-on:click="titleClick('price')">Current Price</button>
          <button class="box title tableButton" id="hourly" v-on:click="titleClick('hourly')">Hourly Change</button>
          <button class="box title tableButton" id="daily" v-on:click="titleClick('daily')">24 Hour Change</button>
          <button class="box title tableButton" id="weekly" v-on:click="titleClick('weekly')">Weekly Change</button>
        </div>
        <div class="row" v-for="coin in coinsArray">
          <div class="box name" v-on:click="handleClick(coin)">{{ coin.name }}</div>  
          <div class="box">{{ getMarketCap(coin) }}</div>
          <div class="box">{{ coin.quotes.USD.price.toFixed(2) }}</div>
          <div class="box" v-bind:style="getColor(coin.quotes.USD.percent_change_1h)">{{ coin.quotes.USD.percent_change_1h }}%</div>
          <div class="box" v-bind:style="getColor(coin.quotes.USD.percent_change_24h)">{{ coin.quotes.USD.percent_change_24h }}%</div>
          <div class="box" v-bind:style="getColor(coin.quotes.USD.percent_change_7d)">{{ coin.quotes.USD.percent_change_7d }}%</div>
        </div>
      </div>
    </div>

    <script src="https://unpkg.com/vue"></script>
    <script src="app.js"></script>
  </body>
</html>
